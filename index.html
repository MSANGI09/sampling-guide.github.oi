<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tanzania Savings Calculator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .calculator-container {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            background-color: white;
        }
        .result-box {
            background-color: #f1f8ff;
            border-left: 4px solid #007bff;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
        }
        .table-container {
            margin-top: 30px;
            overflow-x: auto;
        }
        .header-image {
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('/api/placeholder/800/200');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 30px;
            border-radius: 8px 8px 0 0;
            margin: -20px -20px 20px -20px;
        }
        .header-image h1 {
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        .instructions {
            background-color: #fff8e1;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        .developer-info {
            background-color: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container calculator-container">
        <div class="header-image">
            <h1 class="text-center">Tanzania Savings Calculator</h1>
            <p class="text-center mb-0">Plan your financial future with TZS savings projections</p>
        </div>

        <div class="instructions">
            <h4>How to Use This Calculator</h4>
            <p>This simple yet powerful tool helps you visualize how your savings will grow over time without relying on interest. Follow these steps:</p>
            <ol>
                <li><strong>Initial Amount:</strong> Enter any money you've already saved (in TZS). If you're starting from zero, leave this as 0.</li>
                <li><strong>Regular Savings Amount:</strong> Enter how much you plan to save each period (in TZS).</li>
                <li><strong>Saving Frequency:</strong> Choose whether you'll save daily, weekly, or monthly. This affects how quickly your savings will accumulate.</li>
                <li><strong>Time Frame:</strong> Use the slider to set how many years you want to plan for (between 1-30 years).</li>
                <li><strong>Calculate:</strong> Click the blue "Calculate" button to see your projected savings.</li>
            </ol>
            <p>After calculating, you'll see:</p>
            <ul>
                <li>A summary of your total savings</li>
                <li>Weekly breakdown for the first year</li>
                <li>Monthly highlights throughout your savings period</li>
                <li>Yearly summaries for long-term planning</li>
            </ul>
            <p>Use the "Show/Hide Details" button to view or hide the detailed breakdown table.</p>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="card mb-4">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0">Savings Input</h5>
                    </div>
                    <div class="card-body">
                        <form id="savingsForm">
                            <div class="mb-3">
                                <label for="initialAmount" class="form-label">Initial Amount (TZS)</label>
                                <div class="input-group">
                                    <span class="input-group-text">TZS</span>
                                    <input type="number" class="form-control" id="initialAmount" min="0" value="0">
                                </div>
                                <small class="text-muted">Any money you've already saved</small>
                            </div>
                            
                            <div class="mb-3">
                                <label for="regularSaving" class="form-label">Regular Savings Amount (TZS)</label>
                                <div class="input-group">
                                    <span class="input-group-text">TZS</span>
                                    <input type="number" class="form-control" id="regularSaving" min="0" value="10000">
                                </div>
                                <small class="text-muted">How much you'll save each period</small>
                            </div>
                            
                            <div class="mb-3">
                                <label for="savingFrequency" class="form-label">Saving Frequency</label>
                                <select class="form-select" id="savingFrequency">
                                    <option value="daily">Daily</option>
                                    <option value="weekly" selected>Weekly</option>
                                    <option value="monthly">Monthly</option>
                                </select>
                                <small class="text-muted">How often you'll add to your savings</small>
                            </div>
                            
                            <div class="mb-3">
                                <label for="timeFrame" class="form-label">Time Frame (Years)</label>
                                <input type="range" class="form-range" id="timeFrame" min="1" max="30" value="5">
                                <div class="d-flex justify-content-between">
                                    <span>1</span>
                                    <span id="timeFrameValue">5</span>
                                    <span>30</span>
                                </div>
                                <small class="text-muted">How long you'll continue saving</small>
                            </div>
                            
                            <button type="submit" class="btn btn-primary w-100">Calculate</button>
                        </form>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header bg-success text-white">
                        <h5 class="mb-0">Results Summary</h5>
                    </div>
                    <div class="card-body">
                        <div id="summaryResults">
                            <p class="text-center text-muted mb-4">Complete the form and click Calculate to see your savings projections</p>
                        </div>
                    </div>
                </div>
                
                <div class="card mt-4">
                    <div class="card-header bg-info text-white d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Savings Over Time</h5>
                        <button class="btn btn-sm btn-light" id="toggleTable">Show/Hide Details</button>
                    </div>
                    <div class="card-body p-0">
                        <div class="table-container" id="tableContainer" style="display: none;">
                            <table class="table table-striped table-hover mb-0">
                                <thead class="table-dark">
                                    <tr>
                                        <th>Period</th>
                                        <th>Total Saved</th>
                                    </tr>
                                </thead>
                                <tbody id="resultsTable">
                                    <!-- Results will be inserted here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="developer-info mt-4">
                    <p class="mb-0"><strong>Developed by:</strong> MSANGI JR, Mathematician and Statistician</p>
                    <p class="mb-0"><small>A mathematical approach to financial planning in Tanzania</small></p>
                </div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-secondary text-white">
                        <h5 class="mb-0">Tips for Effective Saving</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h6>Short-term Saving (1-2 years)</h6>
                                <ul>
                                    <li>Set weekly savings targets for best results</li>
                                    <li>Start with a small amount and gradually increase</li>
                                    <li>Review your progress monthly to stay motivated</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h6>Long-term Saving (5+ years)</h6>
                                <ul>
                                    <li>Consistent monthly contributions work best</li>
                                    <li>Set up automatic transfers on payday if possible</li>
                                    <li>Review your savings plan annually</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Update timeFrame value display
            const timeFrameInput = document.getElementById('timeFrame');
            const timeFrameValue = document.getElementById('timeFrameValue');
            
            timeFrameInput.addEventListener('input', function() {
                timeFrameValue.textContent = this.value;
            });
            
            // Toggle table visibility
            const toggleTableBtn = document.getElementById('toggleTable');
            const tableContainer = document.getElementById('tableContainer');
            
            toggleTableBtn.addEventListener('click', function() {
                if (tableContainer.style.display === 'none') {
                    tableContainer.style.display = 'block';
                } else {
                    tableContainer.style.display = 'none';
                }
            });
            
            // Form submission
            const savingsForm = document.getElementById('savingsForm');
            
            savingsForm.addEventListener('submit', function(e) {
                e.preventDefault();
                calculateSavings();
            });
            
            // Calculate savings function
            function calculateSavings() {
                // Get input values
                const initialAmount = parseFloat(document.getElementById('initialAmount').value) || 0;
                const regularSaving = parseFloat(document.getElementById('regularSaving').value) || 0;
                const savingFrequency = document.getElementById('savingFrequency').value;
                const timeFrameYears = parseInt(document.getElementById('timeFrame').value);
                
                // Calculate frequency multiplier
                let periodsPerYear;
                let frequencyText;
                
                switch(savingFrequency) {
                    case 'daily':
                        periodsPerYear = 365;
                        frequencyText = 'Daily';
                        break;
                    case 'weekly':
                        periodsPerYear = 52;
                        frequencyText = 'Weekly';
                        break;
                    case 'monthly':
                        periodsPerYear = 12;
                        frequencyText = 'Monthly';
                        break;
                    default:
                        periodsPerYear = 12;
                        frequencyText = 'Monthly';
                }
                
                const totalPeriods = timeFrameYears * periodsPerYear;
                
                // Calculate savings growth
                let totalSavings = initialAmount;
                
                const weeklyResults = [];
                const monthlyResults = [];
                const yearlyResults = [];
                
                // Calculate for each period
                for (let period = 1; period <= totalPeriods; period++) {
                    // Add regular saving
                    totalSavings += regularSaving;
                    
                    // Store results at specific intervals
                    const currentWeek = Math.ceil(period / (periodsPerYear / 52));
                    const currentMonth = Math.ceil(period / (periodsPerYear / 12));
                    const currentYear = Math.ceil(period / periodsPerYear);
                    
                    // Weekly results (for the first year only)
                    if (currentYear === 1 && period % (periodsPerYear / 52) === 0) {
                        weeklyResults.push({
                            period: `Week ${currentWeek}`,
                            total: totalSavings
                        });
                    }
                    
                    // Monthly results
                    if (period % (periodsPerYear / 12) === 0) {
                        monthlyResults.push({
                            period: `Month ${currentMonth}`,
                            total: totalSavings
                        });
                    }
                    
                    // Yearly results
                    if (period % periodsPerYear === 0) {
                        yearlyResults.push({
                            period: `Year ${currentYear}`,
                            total: totalSavings
                        });
                    }
                }
                
                // Display summary results
                const summaryResults = document.getElementById('summaryResults');
                summaryResults.innerHTML = `
                    <div class="result-box mb-3">
                        <h4 class="mb-3 text-primary">Final Amount: TZS ${formatNumber(totalSavings.toFixed(0))}</h4>
                        <div class="d-flex justify-content-between">
                            <div>Initial amount:</div>
                            <div class="fw-bold">TZS ${formatNumber(initialAmount.toFixed(0))}</div>
                        </div>
                        <div class="d-flex justify-content-between">
                            <div>Total saved:</div>
                            <div class="fw-bold text-success">TZS ${formatNumber((totalSavings - initialAmount).toFixed(0))}</div>
                        </div>
                    </div>
                    
                    <div class="d-flex justify-content-between mb-2">
                        <div>${frequencyText} savings:</div>
                        <div>TZS ${formatNumber(regularSaving)}</div>
                    </div>
                    <div class="d-flex justify-content-between">
                        <div>Time frame:</div>
                        <div>${timeFrameYears} years</div>
                    </div>
                `;
                
                // Display detailed results in table
                const resultsTable = document.getElementById('resultsTable');
                resultsTable.innerHTML = '';
                
                // Weekly results (first year)
                if (weeklyResults.length > 0) {
                    addSectionHeader(resultsTable, 'Weekly (First Year)');
                    weeklyResults.forEach(result => {
                        addResultRow(resultsTable, result);
                    });
                }
                
                // Monthly results (show first year and first month of each year)
                if (monthlyResults.length > 0) {
                    addSectionHeader(resultsTable, 'Monthly Highlights');
                    
                    // First year months
                    for (let i = 0; i < Math.min(12, monthlyResults.length); i++) {
                        addResultRow(resultsTable, monthlyResults[i]);
                    }
                    
                    // First month of subsequent years
                    for (let i = 12; i < monthlyResults.length; i += 12) {
                        if (i < monthlyResults.length) {
                            addResultRow(resultsTable, monthlyResults[i]);
                        }
                    }
                }
                
                // Yearly results
                if (yearlyResults.length > 0) {
                    addSectionHeader(resultsTable, 'Yearly Summary');
                    yearlyResults.forEach(result => {
                        addResultRow(resultsTable, result);
                    });
                }
                
                // Show table
                tableContainer.style.display = 'block';
            }
            
            // Helper function to add section header to table
            function addSectionHeader(table, title) {
                const row = document.createElement('tr');
                row.className = 'table-primary';
                row.innerHTML = `<td colspan="2" class="fw-bold">${title}</td>`;
                table.appendChild(row);
            }
            
            // Helper function to add result row to table
            function addResultRow(table, result) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${result.period}</td>
                    <td class="fw-bold">TZS ${formatNumber(result.total.toFixed(0))}</td>
                `;
                table.appendChild(row);
            }
            
            // Helper function to format numbers with commas
            function formatNumber(num) {
                return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            }
            
            // Initial calculation
            calculateSavings();
        });
    </script>
</body>
</html>